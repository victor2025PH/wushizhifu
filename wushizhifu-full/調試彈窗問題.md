# 調試彈窗問題

## 問題描述
點擊支付寶按鈕後直接進入支付頁面，沒有彈出指南彈窗。

## 可能的原因

1. **代碼未推送到服務器** - 需要確認代碼是否已推送到 GitHub 並在服務器上更新
2. **構建未執行** - 服務器上可能沒有重新構建
3. **瀏覽器緩存** - 瀏覽器可能緩存了舊版本

## 檢查步驟

### 1. 確認本地代碼已提交
```bash
cd d:\wushizhifu\wushizhifu-full
git status
git log --oneline -5
```

### 2. 推送到 GitHub
```bash
git add .
git commit -m "Add Alipay guide modal with video player"
git push
```

### 3. 在服務器上更新
```bash
cd ~/wushizhifu/frontend

# 拉取最新代碼
git pull

# 檢查文件是否存在
ls -lh components/AlipayGuideModal.tsx
ls -lh components/VideoPlayer.tsx
ls -lh public/video_20051225.mp4

# 重新構建
sudo chown -R ubuntu:ubuntu dist
npm run build

# 檢查構建是否有錯誤
# 查看控制台輸出

# 恢復權限
sudo chown -R www-data:www-data dist
sudo chmod -R 755 dist
sudo systemctl reload nginx
```

### 4. 檢查瀏覽器控制台
打開瀏覽器開發者工具（F12），查看：
- Console 標籤是否有錯誤
- 點擊支付寶按鈕時是否有 "Alipay button clicked, showing guide modal" 的日誌

### 5. 強制刷新瀏覽器
- Windows: `Ctrl + Shift + R` 或 `Ctrl + F5`
- 清除瀏覽器緩存

## 代碼確認

確保 Dashboard.tsx 中有以下代碼：

1. 導入 AlipayGuideModal：
```typescript
import { AlipayGuideModal } from './AlipayGuideModal';
```

2. 狀態管理：
```typescript
const [showAlipayGuide, setShowAlipayGuide] = useState(false);
```

3. 點擊處理：
```typescript
const handleAlipayClick = (e: React.MouseEvent) => {
  e.preventDefault();
  e.stopPropagation();
  console.log('Alipay button clicked, showing guide modal');
  setShowAlipayGuide(true);
};
```

4. 按鈕綁定：
```typescript
<button onClick={handleAlipayClick}>
```

5. 渲染 Modal：
```typescript
<AlipayGuideModal
  isOpen={showAlipayGuide}
  onClose={() => setShowAlipayGuide(false)}
  onConfirm={handleAlipayConfirm}
  lang={lang}
/>
```

