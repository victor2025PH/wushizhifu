# repo 文件夹分析

## 问题描述

服务器上存在一个 `repo` 文件夹，里面似乎包含重复的文件，特别是 `repo/wushizhifu-full` 目录。

## 为什么会存在 repo 文件夹？

可能的原因：

### 1. 历史遗留的部署方式
- 之前可能使用过 Git 子模块（submodule）的方式
- `repo` 可能是存放子模块的目录
- 后来改为直接在主仓库中放置 `wushizhifu-full`，但 `repo` 目录没有清理

### 2. 多仓库结构的历史遗留
- 之前可能将前端代码放在单独的仓库中
- `repo` 可能是克隆其他仓库的目录
- 后来合并到主仓库，但旧目录没有删除

### 3. 部署脚本的临时目录
- 某些部署脚本可能使用 `repo` 作为临时工作目录
- 部署完成后没有清理临时文件

## 是否可以删除？

**答案：可以删除，但需要先确认以下几点：**

### 检查清单

1. **确认 repo 目录的内容**
   - 查看 `repo` 目录下有什么
   - 确认是否包含重要的配置文件或数据

2. **确认没有其他地方依赖它**
   - 检查所有部署脚本和工作流
   - 确认没有服务或进程在使用这个目录

3. **确认备份**
   - 在删除前先备份（以防万一）
   - 可以重命名为 `repo.backup` 而不是直接删除

## 删除步骤

### 方案1：直接删除（推荐）

```bash
# 在服务器上执行
cd /home/ubuntu/wushizhifu

# 1. 检查 repo 目录内容
ls -la repo/
du -sh repo/

# 2. 确认没有重要文件后，备份并删除
mv repo repo.backup.$(date +%Y%m%d_%H%M%S)

# 3. 验证一切正常后，可以完全删除备份
# rm -rf repo.backup.*
```

### 方案2：通过 GitHub Actions 清理

已经在工作流中添加了自动清理 `repo/wushizhifu-full` 的逻辑，但可以扩展为清理整个 `repo` 目录（如果确认不需要）。

## 建议

1. **先备份再删除**：将 `repo` 目录重命名为 `repo.backup.日期`
2. **观察一段时间**：如果一周内没有出现问题，可以彻底删除备份
3. **检查磁盘空间**：删除后可以释放一些磁盘空间
4. **更新文档**：记录这次清理，避免将来混淆

## 清理后的好处

1. **避免混淆**：不再有两个前端源代码目录
2. **简化部署**：部署逻辑更清晰
3. **节省空间**：释放磁盘空间
4. **提高可靠性**：避免误用旧代码目录

