# Bot B 快捷指令完整列表

## 📋 标准命令（所有用户）

### `/start`
**功能**: 启动 Bot 并显示欢迎消息和快捷菜单

**说明**: 
- 显示持久菜单按钮（ReplyKeyboard）
- 首次使用必须发送此命令

---

### `/help`
**功能**: 显示帮助信息

**说明**: 列出所有可用命令

---

### `/price`
**功能**: 获取当前 USDT/CNY 价格

**说明**: 
- 显示完整价格信息（基础价格 + 加价 + 最终价格）
- 需要等待 API 响应

---

### `/settings`
**功能**: 查看当前设置

**说明**: 
- 显示管理员加价
- 显示 USDT 收款地址

---

## 🎯 回复键盘按钮（所有用户）

这些按钮在发送 `/start` 后显示在聊天框底部：

### 📊 查看汇率
**功能**: 快速查看当前汇率

**说明**:
- **管理员**: 显示详细价格信息（OKX 基础价格 + 管理员加价 + 最终价格）
- **普通用户**: 仅显示当前汇率

**等同于**: `w01`（管理员）或 `/price`（普通用户）

---

### 🔗 收款地址
**功能**: 查看 USDT 收款地址

**说明**: 显示数据库中设置的 USDT 收款地址

**等同于**: `w04`

---

### 📞 联系人工
**功能**: 显示客服联系方式

**说明**: 
- 管理员：@wushizhifu_jianglai
- 工作时间：7×24小时
- 响应时间：通常在5分钟内

---

## 🔐 管理员快捷命令（仅管理员）

### `w01`
**格式**: `w01`

**功能**: 获取当前 OKX 价格 + 管理员加价

**显示内容**:
- OKX 基础价格
- 管理员加价
- 最终价格

**示例**:
```
用户: w01
Bot: 💱 当前价格信息

📊 OKX 基础价格: 7.2345 CNY
➕ 管理员加价: 0.5000 CNY
💰 最终价格: 7.7345 CNY
```

---

### `w02 [数字]`
**格式**: `w02 0.5` 或 `w02 -0.2`

**功能**: 设置管理员加价

**参数**:
- 可以是正数（如 `0.5`）
- 可以是负数（如 `-0.2`）
- 支持小数

**示例**:
```
用户: w02 0.5
Bot: ✅ 管理员加价已设置为: 0.5000 CNY

用户: w02 -0.2
Bot: ✅ 管理员加价已设置为: -0.2000 CNY
```

---

### `w03 [数字]`
**格式**: `w03 0.3`

**功能**: 设置降价（自动转为负数加价）

**参数**:
- 必须是正数
- 系统自动转为负数

**示例**:
```
用户: w03 0.3
Bot: ✅ 降价已设置为: -0.3000 CNY (加价: -0.3000 CNY)
```

---

### `w04`
**格式**: `w04`

**功能**: 获取 USDT 收款地址

**显示内容**: USDT 钱包地址（如果已设置）

**示例**:
```
用户: w04
Bot: 💼 USDT 收款地址:

TYourUSDTAddressHere123456789
```

---

### `w08`
**格式**: `w08`

**功能**: 重置管理员加价为 0

**示例**:
```
用户: w08
Bot: ✅ 管理员加价已重置为 0
```

---

## 🧮 自动计算（所有用户）

### 纯数字输入
**格式**: 直接发送数字（如 `2000`、`1234.56`）

**功能**: 自动计算结算账单

**示例**:
```
用户: 2000
Bot: 🧾 交易结算单
────────────────────────

💰 数量: 2,000.00 U
📊 汇率: 7.7345 (OKX: 7.2345 +0.5000)
🇨🇳 应付: 15,469.00 CNY

────────────────────────

🔗 地址: TYourUSDTAddressHere...
[✅ 已核对]  ← 按钮
```

---

### 数学表达式
**格式**: 发送简单算式（如 `29981-125`、`100+50`、`200*2`、`1000/2`）

**支持的操作**:
- ➕ 加法: `100+50` → 150
- ➖ 减法: `29981-125` → 29856
- ✖️ 乘法: `200*2` → 400
- ➗ 除法: `1000/2` → 500

**限制**:
- 只支持单个运算符（不支持 `a+b-c`）
- 支持小数（如 `100.5+50.25`）
- 支持负数（如 `-100+50`）

**示例**:
```
用户: 29981-125
Bot: 🧾 交易结算单
────────────────────────

💰 数量: 29,856.00 U
📊 汇率: 7.7345 (OKX: 7.2345 +0.5000)
🇨🇳 应付: 231,016.83 CNY

────────────────────────

🔗 地址: TYourUSDTAddressHere...
[✅ 已核对]  ← 按钮
```

---

## 📊 指令对比表

| 功能 | 标准命令 | 管理员命令 | 回复键盘 | 自动触发 |
|------|---------|-----------|---------|---------|
| **查看汇率** | `/price` | `w01` | 📊 查看汇率 | - |
| **查看地址** | - | `w04` | 🔗 收款地址 | - |
| **联系客服** | - | - | 📞 联系人工 | - |
| **设置加价** | - | `w02 [数字]` | - | - |
| **设置降价** | - | `w03 [数字]` | - | - |
| **重置加价** | - | `w08` | - | - |
| **计算结算** | - | - | - | 发送数字/算式 |
| **查看设置** | `/settings` | - | - | - |

---

## 💡 使用建议

### 对于普通用户
1. 发送 `/start` 获取菜单
2. 使用菜单按钮快速操作
3. 直接发送数字或算式计算结算

### 对于管理员
1. 使用 `w01-w04, w08` 快速管理
2. 使用回复键盘按钮方便操作
3. 标准命令和快捷命令都可以使用

---

## 🔍 快速参考

**最常用**:
- 查看汇率: `📊 查看汇率` 或 `/price` 或 `w01`
- 计算结算: 直接发送 `2000` 或 `29981-125`
- 查看地址: `🔗 收款地址` 或 `w04`

**管理员专用**:
- 设置加价: `w02 0.5`
- 重置加价: `w08`
- 查看价格: `w01`

